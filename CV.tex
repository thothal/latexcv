\documentclass{article}

\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}		
\usepackage[english]{babel}
\usepackage[default]{gillius2}
\usepackage{moresize}
\usepackage{xcolor}
\usepackage{etoolbox}
% \usepackage{worldflags}
\usepackage{tikz}


% \usepackage{fontawesome5}
% \usepackage[hidelinks]{hyperref}
% \usepackage{transparent}

% \usepackage{bm}
% \usepackage{graphicx}
% \usepackage{wrapfig}
% \usepackage{float}
% \usepackage{multicol}			
% \usepackage{multirow}
% \usepackage{array}
\usepackage[a4paper,margin=5pt]{geometry}

\pagestyle{empty}

%%% Fonts
%\renewcommand*\familydefault{\sfdefault} 
%%% Colors
\definecolor{darkboxbgcolor}{HTML}{303E4C}
\definecolor{darkboxfgcolor}{HTML}{FFFFFF}

\definecolor{lightboxbgcolor}{HTML}{BAC7CE}
\definecolor{lightboxfgcolor}{HTML}{FFFFFF}

\definecolor{bgcolor}{HTML}{FFFFFF}
\definecolor{fgcolor}{HTML}{000000}

\definecolor{accent}{HTML}{F9A620}

\pagecolor{bgcolor}

%%% Debug
%%\showoutput
%%\showboxdepth=4

\newbool{isleft}
\setbool{isleft}{true}

%%% Lengths
\newlength{\cvbodywidth}
\newlength{\cvsidebargap}
\newlength{\cvsidebarwidth}
\newlength{\cvbodyheight}
\newlength{\cvfootergap}
\newlength{\cvfooterheight}

\deflength{\cvbodywidth}{0.75\textwidth}
\deflength{\cvsidebargap}{5pt}
\deflength{\cvsidebarwidth}{\dimexpr\textwidth-\cvsidebargap-\cvbodywidth-2\fboxsep\relax}
{
    \small%
    \global\deflength{\cvfooterheight}{\baselineskip}
}

\deflength{\cvfootergap}{0pt}
\deflength{\cvbodyheight}{\dimexpr\textheight-4\fboxsep-\cvfootergap-\cvfooterheight\relax}
\deflength{\topskip}{0pt}
\deflength{\parindent}{0pt}

%%% New Commands
\newcounter{ii}

\newcommand*{\arrow}[2][left]{
    \begin{tikzpicture}[scale=0.58]
        \ifstrequal{#1}{left}{%
            \filldraw[fill=#2,draw=#2] (0,0) -- (0.2,0) -- (0.3,0.2) -- (0.2,0.4) -- (0,0.4) -- (0.1,0.2) -- cycle;%
        }{%
            \filldraw[fill=#2,draw=#2] (0,0.2) -- (0.1,0) -- (0.3,0) -- (0.2,0.2) -- (0.3,0.4) -- (0.1,0.4) -- cycle;
        }%
    \end{tikzpicture}
}

\newcommand*{\narrow}[3][left]{
    \makeatletter
    \defcounter{ii}{0}
    \@whilenum\value{ii}<#2\do{%
        \stepcounter{ii}%
        \arrow[#1]{#3}%
        \hspace{-6pt}%\ifthenelse{\value{ii}=#2}{}{\hspace{-6pt}}%
    }%
    \makeatother%
}

\newcommand*{\doublearrow}[2][left]{
    \narrow[#1]{2}{#2}%
}

\newcommand*{\tripplearrow}[2][left]{
    \narrow[#1]{3}{#2}%
}


\newcommand*{\currentwidth}{\dimexpr\linewidth-2\fboxsep\relax}
\newcommand*{\cvheader}[2][CV]{
    \vspace{-\fboxsep}%
	\colorbox{darkboxbgcolor}{%
        \HUGE%
        \makebox(\currentwidth,\baselineskip){%
            \color{darkboxfgcolor}%
            \uppercase{#2}
            \textbullet\ 
            \uppercase{#1}}%
    }%
}
\newcommand*{\cvfooter}[3]{
    \par%
    \nointerlineskip%
    \vspace*{\cvfootergap}%
    
    \colorbox{lightboxbgcolor}{%
        \small%
        \makebox(\currentwidth,\cvfooterheight){%
            \color{lightboxfgcolor}%
            #1 \textbullet\
            #2 \textbullet\
            #3%
        }%
    }%
}

\newcommand*{\cvbodysection}[2][]{
    \par%
    
    \colorbox{darkboxbgcolor}{%
        \makebox(\currentwidth,\baselineskip)[l]{%
            \color{darkboxfgcolor}%
            \ifblank{#1}{}{#1\ }%
            \textbf{%
                \uppercase{#2}%
            }%
        }%
    }%
}

\newcommand*{\cvquote}[1]{

}

\newsavebox{\sidebarbox}
\newenvironment*{cvsidebar}{%
    \begin{lrbox}{\sidebarbox}%
        \begin{minipage}[t][\cvbodyheight][t]{\cvsidebarwidth}%
            \vspace{0pt}% need this to ensure minipages align c.f. https://bit.ly/3pioFT7
            \color{darkboxfgcolor}%
}{%
        \end{minipage}%
    \end{lrbox}%
    \colorbox{darkboxbgcolor}{%
        \usebox{\sidebarbox}%
    }%
    \ifbool{isleft}{%
        \hspace*{\cvsidebargap}%
        \global\setbool{isleft}{false}%
    }{%
        \global\setbool{isleft}{true}%
    }%
    \ignorespacesafterend%
}

\newenvironment*{cvbody}{%
    \ignorespaces%
    \begin{minipage}[t][\cvbodyheight][t]{\cvbodywidth}%
}{%
    \end{minipage}%
    \ifbool{isleft}{%
        \hspace*{\cvsidebargap}%
        \global\setbool{isleft}{false}%
    }{%
        \global\setbool{isleft}{true}%
    }%
    \ignorespacesafterend%
}

%%% hooks

\begin{document}
\begin{cvbody}
    \cvheader{Thorn Thaler}%

    %\cvbodysection[\doublearrow{white}]{a}%

    \cvbodysection[\textbullet]{b}%
\end{cvbody}
\begin{cvsidebar}
\end{cvsidebar}%
\cvfooter{Thorn Thaler}{StaudingerstraÃŸe 38}{22607 Hamburg}
\end{document}